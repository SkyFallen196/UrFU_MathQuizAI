import streamlit as st

from utils.RAG import get_response


def handle_matrix_determinant_2x2_mode():
    st.subheader("Вычисление определителя матрицы 2x2")

    if st.button("Составить задание"):
        template = """
Составь задание без вариантов ответа и без решения, в котором требуется вычислить определитель матрицы 2×2.

Требования:

- Используй следующий шаблон, сохраняя его структуру и формулировку:
Дана матрица A = [[a, b], [c, d]]. Чему равен определитель данной матрицы?
- Важно: используй только латинскую букву 'A' для обозначения матрицы. Не используй кириллическую букву 'А'.
- Не добавляй кавычки в начале и в конце предложения.
- Замени буквы a, b, c и d на свои собственные числа – целые однозначные числа от -9 до 9 (включая 0).
- Не используй буквы или переменные в матрице, только числа.
- Числа должны быть выбраны так, чтобы вычисление определителя не было слишком сложным.
- Избегай дополнительных комментариев или отклонений от шаблона.

Примеры:

1. Дана матрица A = [[5, -2], [7, 4]]. Чему равен определитель данной матрицы?
2. Дана матрица A = [[3, 1], [-6, 8]]. Чему равен определитель данной матрицы?
3. Дана матрица A = [[0, 5], [-9, 2]]. Чему равен определитель данной матрицы?
"""

        response = get_response(template)
        st.markdown("### **Ответ:**")
        st.markdown(response)

    if st.button("Вернуться к выбору режима", key="back_button_matrix"):
        st.session_state.mode = None
        st.rerun()
